{"version":3,"file":"ShardingServiceHttp.mjs","names":["HashSet","Effect","Sharding","ShardingConfig","isShardingEntityTypeNotRegisteredError","ShardingProtocolHttp","Stream","asHttpServer","shardingServiceHttp","fa","flatMap","sharding","config","shardingPort","schema","req","reply","replyStream","_tag","AssignShardResult_","as","assign","fromIterable","shards","UnassignShardsResult_","unassign","SendResult_","catchAll","e","fail","die","sendToLocalEntitySingleReply","message","SendStreamResultItem_","sendToLocalEntityStreamingReply","PingShardsResult_","succeed"],"sources":["../../src/ShardingServiceHttp.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;AAIA,OAAO,KAAKA,OAAO,MAAM,sBAAsB;AAC/C,OAAO,KAAKC,MAAM,MAAM,mBAAmB;AAC3C,OAAO,KAAKC,QAAQ,MAAM,4BAA4B;AACtD,OAAO,KAAKC,cAAc,MAAM,kCAAkC;AAClE,SAASC,sCAAsC,QAAQ,iCAAiC;AACxF,OAAO,KAAKC,oBAAoB,MAAM,wCAAwC;AAC9E,OAAO,KAAKC,MAAM,MAAM,uBAAuB;AAC/C,SAASC,YAAY,QAAQ,QAAQ;AAErC;;;;AAIA,OAAO,MAAMC,mBAAmB,GAAaC,EAA0B,IAGnER,MAAM,CAACS,OAAO,CAAEC,QAAQ,IAGpBV,MAAM,CAACS,OAAO,CAAEE,MAAM,IAGlBL,YAAY,CAACK,MAAM,CAACC,YAAY,EAAER,oBAAoB,CAACS,MAAM,EAAE,CAACC,GAAG,EAAEC,KAAK,EAAEC,WAAW,KAAI;EACzF,QAAQF,GAAG,CAACG,IAAI;IACd,KAAK,cAAc;MACjB,OAAOF,KAAK,CAACX,oBAAoB,CAACc,kBAAkB,CAAC,CACnDlB,MAAM,CAACmB,EAAE,CAACT,QAAQ,CAACU,MAAM,CAACrB,OAAO,CAACsB,YAAY,CAACP,GAAG,CAACQ,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,CACnE;IACH,KAAK,gBAAgB;MACnB,OAAOP,KAAK,CAACX,oBAAoB,CAACmB,qBAAqB,CAAC,CACtDvB,MAAM,CAACmB,EAAE,CAACT,QAAQ,CAACc,QAAQ,CAACzB,OAAO,CAACsB,YAAY,CAACP,GAAG,CAACQ,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,CACrE;IACH,KAAK,MAAM;MACT,OAAOP,KAAK,CAACX,oBAAoB,CAACqB,WAAW,CAAC,CAE5CzB,MAAM,CAAC0B,QAAQ,CAAEC,CAAC,IAAKxB,sCAAsC,CAACwB,CAAC,CAAC,GAAG3B,MAAM,CAAC4B,IAAI,CAACD,CAAC,CAAC,GAAG3B,MAAM,CAAC6B,GAAG,CAACF,CAAC,CAAC,CAAC,CADlGjB,QAAQ,CAACoB,4BAA4B,CAAChB,GAAG,CAACiB,OAAO,CAAC,CAEnD,CAAC;IACJ,KAAK,YAAY;MACf,OAAOf,WAAW,CAACZ,oBAAoB,CAAC4B,qBAAqB,CAAC,CAE5D3B,MAAM,CAACqB,QAAQ,CAAEC,CAAC,IAAKxB,sCAAsC,CAACwB,CAAC,CAAC,GAAGtB,MAAM,CAACuB,IAAI,CAACD,CAAC,CAAC,GAAGtB,MAAM,CAACwB,GAAG,CAACF,CAAC,CAAC,CAAC,CADlGjB,QAAQ,CAACuB,+BAA+B,CAACnB,GAAG,CAACiB,OAAO,CAAC,CAEtD,CAAC;IACJ,KAAK,YAAY;MACf,OAAOhB,KAAK,CAACX,oBAAoB,CAAC8B,iBAAiB,CAAC,CAAClC,MAAM,CAACmC,OAAO,CAAC,IAAI,CAAC,CAAC;;EAE9E,OAAOnC,MAAM,CAAC6B,GAAG,CAAC,WAAW,CAAC;AAChC,CAAC,CAAC,CAzBFrB,EAAE,CA0BH,CACF,CA9BDN,cAAc,CAACA,cAAc,CA+B9B,CACF,CAnCDD,QAAQ,CAACA,QAAQ,CAoClB"}