{"version":3,"file":"ShardingServiceHttp.mjs","names":["pipe","HashSet","Effect","isEntityTypeNotRegistered","Sharding","ShardingConfig","ShardingProtocolHttp","Stream","asHttpServer","shardingServiceHttp","fa","flatMap","sharding","config","shardingPort","schema","req","reply","replyStream","_tag","AssignShardResult_","as","assign","fromIterable","shards","UnassignShardsResult_","unassign","SendResult_","sendToLocalEntitySingleReply","message","catchAll","e","fail","die","SendStreamResultItem_","sendToLocalEntityStreamingReply","PingShardsResult_","succeed"],"sources":["../../src/ShardingServiceHttp.ts"],"sourcesContent":[null],"mappings":"AAAA;;;AAGA,SAASA,IAAI,QAAQ,uBAAuB;AAC5C,OAAO,KAAKC,OAAO,MAAM,sBAAsB;AAC/C,OAAO,KAAKC,MAAM,MAAM,mBAAmB;AAC3C,SAASC,yBAAyB,QAAQ,8BAA8B;AACxE,OAAO,KAAKC,QAAQ,MAAM,4BAA4B;AACtD,OAAO,KAAKC,cAAc,MAAM,kCAAkC;AAClE,OAAO,KAAKC,oBAAoB,MAAM,wCAAwC;AAC9E,OAAO,KAAKC,MAAM,MAAM,uBAAuB;AAC/C,SAASC,YAAY,QAAQ,QAAQ;AAErC;;;;AAIA,OAAO,MAAMC,mBAAmB,GAAaC,EAA0B,IACrEV,IAAI,CACFI,QAAQ,CAACA,QAAQ,EACjBF,MAAM,CAACS,OAAO,CAAEC,QAAQ,IACtBZ,IAAI,CACFK,cAAc,CAACA,cAAc,EAC7BH,MAAM,CAACS,OAAO,CAAEE,MAAM,IACpBb,IAAI,CACFU,EAAE,EACFF,YAAY,CAACK,MAAM,CAACC,YAAY,EAAER,oBAAoB,CAACS,MAAM,EAAE,CAACC,GAAG,EAAEC,KAAK,EAAEC,WAAW,KAAI;EACzF,QAAQF,GAAG,CAACG,IAAI;IACd,KAAK,cAAc;MACjB,OAAOF,KAAK,CAACX,oBAAoB,CAACc,kBAAkB,CAAC,CACnDlB,MAAM,CAACmB,EAAE,CAACT,QAAQ,CAACU,MAAM,CAACrB,OAAO,CAACsB,YAAY,CAACP,GAAG,CAACQ,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,CACnE;IACH,KAAK,gBAAgB;MACnB,OAAOP,KAAK,CAACX,oBAAoB,CAACmB,qBAAqB,CAAC,CACtDvB,MAAM,CAACmB,EAAE,CAACT,QAAQ,CAACc,QAAQ,CAACzB,OAAO,CAACsB,YAAY,CAACP,GAAG,CAACQ,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,CACrE;IACH,KAAK,MAAM;MACT,OAAOP,KAAK,CAACX,oBAAoB,CAACqB,WAAW,CAAC,CAAC3B,IAAI,CACjDY,QAAQ,CAACgB,4BAA4B,CAACZ,GAAG,CAACa,OAAO,CAAC,EAClD3B,MAAM,CAAC4B,QAAQ,CAAEC,CAAC,IAAK5B,yBAAyB,CAAC4B,CAAC,CAAC,GAAG7B,MAAM,CAAC8B,IAAI,CAACD,CAAC,CAAC,GAAG7B,MAAM,CAAC+B,GAAG,CAACF,CAAC,CAAC,CAAC,CACtF,CAAC;IACJ,KAAK,YAAY;MACf,OAAOb,WAAW,CAACZ,oBAAoB,CAAC4B,qBAAqB,CAAC,CAAClC,IAAI,CACjEY,QAAQ,CAACuB,+BAA+B,CAACnB,GAAG,CAACa,OAAO,CAAC,EACrDtB,MAAM,CAACuB,QAAQ,CAAEC,CAAC,IAAK5B,yBAAyB,CAAC4B,CAAC,CAAC,GAAGxB,MAAM,CAACyB,IAAI,CAACD,CAAC,CAAC,GAAGxB,MAAM,CAAC0B,GAAG,CAACF,CAAC,CAAC,CAAC,CACtF,CAAC;IACJ,KAAK,YAAY;MACf,OAAOd,KAAK,CAACX,oBAAoB,CAAC8B,iBAAiB,CAAC,CAAClC,MAAM,CAACmC,OAAO,CAAC,IAAI,CAAC,CAAC;;EAE9E,OAAOnC,MAAM,CAAC+B,GAAG,CAAC,WAAW,CAAC;AAChC,CAAC,CAAC,CACH,CACF,CACF,CACF,CACF"}