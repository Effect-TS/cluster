{"version":3,"file":"utils.mjs","names":["HashMap","HashSet","Option","Effect","Schema","TreeFormatter","ShardingError","Stream","fetch","FetchError","url","body","error","_tag","isFetchError","value","NotAMessageWithReplierDefect","message","MessageReturnedNotingDefect","minByOption","f","fa","current","none","item","isNone","some","groupBy","empty","k","has","modify","add","set","fromIterable","jsonStringify","schema","map","_","JSON","stringify","mapError","e","ShardingEncodeError","formatErrors","errors","encode","jsonParse","ShardingDecodeError","flatMap","decode","sync","parse","sendInternal","send","data","tryPromise","try","signal","method","catch","String","reply","flatten","orDie","response","promise","text","sendStream","fromEffect","mapEffect","line","startsWith","substring","length","trim","filter","splitLines","toString","fromAsyncIterable","showHashSet","fn","Array","from","join","showHashMap","fnK","key","showOption","match","onNone","onSome"],"sources":["../../src/utils.ts"],"sourcesContent":[null],"mappings":"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"}