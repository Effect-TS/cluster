{"version":3,"file":"PodsHttp.mjs","names":["ShardingProtocolHttp","Pods","ShardingErrorPodUnavailable","Http","Effect","pipe","Layer","asHttpUrl","pod","host","port","httpPods","effect","gen","_","client","Client","map","filterStatusOk","assignShards","podAddress","shards","request","post","prependUrl","schemaBody","AssignShard_","Array","from","asUnit","orDie","unassignShards","UnassignShards_","ping","get","mapError","sendMessage","envelope","Send_","message","response","flatMap","schemaBodyJson","SendResult_","flatten","result","_id","TypeId"],"sources":["../src/PodsHttp.ts"],"sourcesContent":[null],"mappings":"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"}