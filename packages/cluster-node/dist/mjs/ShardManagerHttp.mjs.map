{"version":3,"file":"ShardManagerHttp.mjs","names":["ShardManagerProtocolHttp","ManagerConfig","ShardManager","Http","Effect","Layer","createServer","internalServer","unwrapEffect","gen","_","managerConfig","server","layer","port","apiPort","shardManagerHttp","scopedDiscard","shardManager","router","empty","pipe","post","body","request","schemaBodyJson","Register_","register","pod","response","json","Unregister_","unregister","address","NotifyUnhealthyPod_","notifyUnhealthyPod","podAddress","get","assignments","getAssignments","schemaJson","GetAssignmentsResult_","Array","from","prefixAll","serve","middleware","logger","use"],"sources":["../src/ShardManagerHttp.ts"],"sourcesContent":[null],"mappings":"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"}