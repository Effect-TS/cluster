{"version":3,"file":"PodsHttp.mjs","names":["Http","ShardingProtocolHttp","jsonParse","stringFromUint8ArrayString","Pods","ShardingErrorPodUnavailable","Effect","pipe","Layer","Stream","asHttpUrl","pod","host","port","httpPods","effect","gen","_","client","Client","map","filterStatusOk","assignShards","podAddress","shards","request","post","prependUrl","schemaBody","AssignShard_","Array","from","asUnit","orDie","unassignShards","UnassignShards_","ping","get","mapError","e","console","log","sendMessage","binaryMessage","Send_","message","response","flatMap","schemaBodyJson","SendResult_","flatten","sendMessageStreaming","SendStream_","stream","splitLines","mapEffect","SendStreamResultItem_","fromEffect","result","_id","TypeId"],"sources":["../src/PodsHttp.ts"],"sourcesContent":[null],"mappings":"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"}