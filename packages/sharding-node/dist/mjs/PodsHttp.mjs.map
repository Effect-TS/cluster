{"version":3,"file":"PodsHttp.mjs","names":["Effect","Layer","Http","ShardingProtocolHttp","jsonParse","stringFromUint8ArrayString","Pods","ShardingErrorPodUnavailable","Stream","asHttpUrl","pod","host","port","httpPods","effect","gen","_","client","Client","map","filterStatusOk","assignShards","podAddress","shards","request","post","prependUrl","schemaBody","AssignShard_","Array","from","pipe","asUnit","orDie","unassignShards","UnassignShards_","ping","get","mapError","e","console","log","sendMessage","binaryMessage","Send_","message","response","flatMap","schemaBodyJson","SendResult_","flatten","sendMessageStreaming","SendStream_","stream","mapEffect","SendStreamResultItem_","splitLines","fromEffect","result","_id","TypeId"],"sources":["../src/PodsHttp.ts"],"sourcesContent":[null],"mappings":"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"}